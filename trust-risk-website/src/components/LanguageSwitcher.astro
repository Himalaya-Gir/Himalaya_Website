---
import { getLanguageFromUrl } from '../i18n/translations';

const currentLang = getLanguageFromUrl(Astro.url);
const otherLang = currentLang === 'en' ? 'fr' : 'en';
const otherLangLabel = currentLang === 'en' ? 'FR' : 'EN';

// Get current path without language prefix
const currentPath = Astro.url.pathname.replace(/^\/(fr|en)/, '');
const switchUrl = otherLang === 'fr' ? `/fr${currentPath}` : currentPath || '/';
---

<a
  href={switchUrl}
  class="fixed top-6 right-6 z-50 px-4 py-2 bg-white border-2 border-[#475573] text-[#475573] rounded-lg hover:bg-[#475573] hover:text-white transition-colors font-medium shadow-lg"
  aria-label={`Switch to ${otherLang === 'fr' ? 'French' : 'English'}`}
>
  {otherLangLabel}
</a>
